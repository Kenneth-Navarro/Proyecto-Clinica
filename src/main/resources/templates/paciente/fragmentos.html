<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
    <head th:replace="~{/layout/plantilla::head}"> </head>
    <body>


        <div th:fragment="registroPaciente">
            <div class="box_gris">
                <div class="box_registro">
                    <p class="text_registro text-center">
                        Registrar Paciente
                    </p>
                </div>
            </div>
            <div class="box_gris_separador"> </div>

        </div>



        <div th:fragment="formPaciente">

            <div class="box_gris_separador"> </div>

            <div class="content">
                <div class="container">
                    <div class="row align-items-stretch justify-content-center no-gutters">
                        <div class="col-md-12">
                            <div class="form contact-wrap p-5">
                                <form class="mb-5" method="post"  id="contactForm" name="contactForm" th:action="@{/paciente/guardarPaciente}" th:object="${paciente}">
                                    <div class="row">
                                        <div class="col-md-6 form-group mb-3">
                                            <label class="col-form-label">Cedula</label>
                                            <input type="number" class="form-control" name="cedula" id="cedula"
                                                   placeholder="Cedula" style="font-size: 20px" required/>

                                        </div>

                                    </div>
                                    <div class="row">
                                        <div class="col-md-6 form-group mb-3">
                                            <label class="col-form-label">Nombre</label>
                                            <input type="text" class="form-control" name="nombre" id="nombre"
                                                   placeholder="Nombre" required/>
                                            <input type="text" class="form-control mt-3" name="primerApellido" id="apellido"
                                                   placeholder="Primer Apellido" required/>
                                            <input type="text" class="form-control mt-3" name="segundoApellido"
                                                   id="segundoApellido" placeholder="Segundo Apellido" required/>
                                        </div>

                                        <div class="col-md-6 form-group mb-3">
                                            <label class="col-form-label ">Contacto</label>
                                            <input type="number" class="form-control " name="telefono" id="telefono"
                                                   placeholder="Telefono" required/>
                                            <input type="email" class="form-control mt-3" name="correo" id="correo"
                                                   placeholder="Correo Electronico" required/>
                                        </div>
                                    </div>

                                    <div class="row mb-5">

                                        <div class="col-md-6 form-group mb-3">
                                            <label class="col-form-label">Residencia</label>
                                            <input type="text" class="form-control" name="provincia" id="provincia"
                                                   placeholder="Provincia" required/>
                                            <input type="text" class="form-control mt-3" name="canton" id="canton"
                                                   placeholder="Canton" required/>
                                            <input type="text" class="form-control mt-3" name="distrito" id="distrito"
                                                   placeholder="Distrito" required/>
                                            <input type="text" class="form-control mt-3" name="otros" id="otros"
                                                   placeholder="Otros" required/>
                                        </div>

                                        <div class="col-md-6 form-group mb-3">
                                            <div class="row">
                                                <div class="col-md-6 form-group mb-3">
                                                    <label class="col-form-label">Género</label>
                                                    <select class="form-select form-select-sm form-control " aria-label="Small select example" required>
                                                        <option selected="true">Seleccione una opción</option>
                                                        <option value="0">Femenino</option>
                                                        <option value="1">Masculino</option>
                                                    </select>

                                                </div>
                                                <div class="col-md-6 form-group mb-3">
                                                    <label class="col-form-label">Edad</label>
                                                    <input type="number" class="form-control" name="edad" id="edad"
                                                           placeholder="Edad" required/>
                                                </div>

                                            </div>
                                        </div>
                                    </div>

                                    <div class="row justify-content-center">
                                        <div class="col-md-5 form-group text-center">
                                            <input type="submit" value="Registrar" class="btn btn-primary py-3 px-4"/> 
                                        </div>
                                    </div>

                                </form>

                                <div id="form-message-warning mt-4"></div>
                                <div id="form-message-success">
                                    Su registro fue exitoso
                                </div>

                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <div class="box_gris_separador"> </div>


        </div>


        <div th:fragment="buscarPaciente">
            <div class="box_gris">
                <div class="box_registro">
                    <p class="text_registro text-center">
                        Información de Pacientes
                    </p>
                </div>
            </div>
            <div class="box_gris_separador"> </div>
        </div>

        <div th:fragment="tabla">

            <div class="container">
                <div class="col-md-12 mt-5">
                    
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th class="text-center">#</th>                          
                                    <th>Cedula</th>
                                    <th>Nombre</th>
                                    <th>Apellido</th>
                                    <th>Telefono</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr th:each="paciente, contador : ${pacientes}">
                                    <td class="text-center">[[${contador.count}]]</td>
                                    <td>[[${paciente.cedula}]]</td>
                                    <td>[[${paciente.nombre}]]</td>
                                    <td>[[${paciente.primerApellido}]]</td>
                                    <td>[[${paciente.telefono}]]</td>

                                    <td class="td-actions text-end">
                                        <a  th:href="@{/paciente/ver/}+${paciente.cedula}" class="btn btn-info btn-link btn-just-icon btn-sm" title="Ver">
                                            <i class="material-icons">person</i>
                                        </a>

                                        <a th:href="@{/paciente/modificar/}+${paciente.cedula}" class="btn btn-success btn-link btn-just-icon btn-sm" title="Editar">
                                            <i class="material-icons">edit</i>
                                        </a>

                                        <a th:href="@{/paciente/eliminar/}+${paciente.cedula}" class="btn btn-danger btn-link btn-just-icon btn-sm" title="Eliminar">
                                            <i class="material-icons">close</i>
                                        </a>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="box_gris_separador"> </div>


        <div th:fragment="modPaciente">
            <div class="box_gris">
                <div class="box_registro">
                    <p class="text_registro text-center">
                        Actualizar Paciente
                    </p>
                </div>
            </div>

        </div>



        <div th:fragment="modificaPaciente" >

            <div class="box_gris_separador"> </div>

            <div class="content">
                <div class="container">
                    <div class="row align-items-stretch justify-content-center no-gutters">
                        <div class="col-md-12">
                            <div class="form contact-wrap p-5">
                                <form class="mb-5" method="post" id="contactForm" name="contactForm" th:action="@{/paciente/actualizarPaciente}" th:object="${paciente}">

                                    <input type="hidden" class="form-control" name="cedID" id="cedID"
                                           th:value="${cedID}"/>

                                    <div class="row">
                                        <div class="col-md-6 form-group mb-3">
                                            <label class="col-form-label">Cedula</label>
                                            <input type="number" class="form-control" name="cedula" id="cedula"
                                                   th:field="*{cedula}" required/>
                                        </div>

                                    </div>

                                    <div class="row">

                                        <div class="col-md-6 form-group mb-3">
                                            <label class="col-form-label">Nombre</label>
                                            <input type="text" class="form-control" name="nombre" id="nombre"
                                                   th:field="*{nombre}" required/>

                                            <input type="text" class="form-control mt-3" name="primerApellido" id="apellido"
                                                   th:field="*{primerApellido}" required/>

                                            <input type="text" class="form-control mt-3" name="segundoApellido"
                                                   id="segundoApellido"  th:field="*{segundoApellido}" required/>

                                        </div>

                                        <div class="col-md-6 form-group mb-3">

                                            <label class="col-form-label ">Contacto</label>
                                            <input type="number" class="form-control " name="telefono" id="telefono"
                                                   th:field="*{telefono}" required/>
                                            <input type="email" class="form-control mt-3" name="correo" id="correo"
                                                   th:field="*{correo}" required/>


                                        </div>

                                    </div>

                                    <div class="row mb-5">

                                        <div class="col-md-6 form-group mb-3">
                                            <label class="col-form-label">Residencia</label>
                                            <input type="text" class="form-control" name="provincia" id="provincia"
                                                   th:field="*{provincia}" required/>
                                            <input type="text" class="form-control mt-3" name="canton" id="canton"
                                                   th:field="*{canton}" required/>
                                            <input type="text" class="form-control mt-3" name="distrito" id="distrito"
                                                   th:field="*{distrito}" required/>
                                            <input type="text" class="form-control mt-3" name="otros" id="otros"
                                                   th:field="*{otros}" required/>
                                        </div>

                                        <div class="col-md-6 form-group mb-3">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <label class="col-form-label">Género</label>
                                                    <select class="form-select form-select-sm form-control" aria-label="Small select example" th:field="*{genero}" required>

                                                        <option th:value="0" th:selected="${genero == 0}">Femenino</option>
                                                        <option th:value="1" th:selected="${genero == 1}">Masculino</option>

                                                    </select>
                                                </div>
                                                <div class="col-md-6">
                                                    <label class="col-form-label">Edad</label>
                                                    <input type="number" class="form-control" name="edad" id="edad"
                                                           th:field="*{edad}" required/>
                                                </div>

                                            </div>
                                        </div>
                                    </div>

                                    <div class="row justify-content-center">
                                        <div class="col-md-5 form-group text-center">
                                            <input type="submit" value="Actualizar" class="btn btn-primary py-3 px-4"/>
                                            <a th:href="@{/paciente/crudPaciente}" class="btn btn-primary py-3 px-4">Volver</a>
                                        </div>
                                    </div>
                                </form>

                            </div>
                            <div class="box_gris_separador"> </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <div th:fragment="vPaciente">
            <div class="box_gris">
                <div class="box_registro">
                    <p class="text_registro text-center">
                        Información Paciente
                    </p>
                </div>
            </div>

        </div>



        <div th:fragment="verPaciente">

            <div class="box_gris_separador"> </div>

            <div class="content">
                <div class="container">
                    <div class="row align-items-stretch justify-content-center no-gutters">
                        <div class="col-md-12">
                            <div class="form contact-wrap p-5">
                                <div class="mb-5" id="contactForm" th:object="${paciente}">
                                    <div class="row">
                                        <div class="col-md-6 form-group mb-3">
                                            <label class="col-form-label">Cedula</label>
                                            <input type="number" class="form-control" name="cedula" id="cedula"
                                                   th:field="*{cedula}" readonly="true"/>
                                        </div>

                                    </div>

                                    <div class="row">

                                        <div class="col-md-6 form-group mb-3">
                                            <label class="col-form-label">Nombre</label>
                                            <input type="text" class="form-control" name="nombre" id="nombre"
                                                   th:field="*{nombre}" readonly="true"/>

                                            <input type="text" class="form-control mt-3" name="primerApellido" id="apellido"
                                                   th:field="*{primerApellido}" readonly="true"/>

                                            <input type="text" class="form-control mt-3" name="segundoApellido"
                                                   id="segundoApellido"  th:field="*{segundoApellido}" readonly="true"/>

                                        </div>

                                        <div class="col-md-6 form-group mb-3">

                                            <label class="col-form-label ">Contacto</label>
                                            <input type="number" class="form-control " name="telefono" id="telefono"
                                                   th:field="*{telefono}" readonly="true"/>
                                            <input type="email" class="form-control mt-3" name="correo" id="correo"
                                                   th:field="*{correo}" readonly="true"/>


                                        </div>

                                    </div>

                                    <div class="row mb-5">

                                        <div class="col-md-6 form-group mb-3">
                                            <label class="col-form-label">Residencia</label>
                                            <input type="text" class="form-control" name="provincia" id="provincia"
                                                   th:field="*{provincia}" readonly="true"/>
                                            <input type="text" class="form-control mt-3" name="canton" id="canton"
                                                   th:field="*{canton}" readonly="true"/>
                                            <input type="text" class="form-control mt-3" name="distrito" id="distrito"
                                                   th:field="*{distrito}" readonly="true"/>
                                            <input type="text" class="form-control mt-3" name="otros" id="otros"
                                                   th:field="*{otros}" readonly="true"/>
                                        </div>

                                        <div class="col-md-6 form-group mb-3">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <label class="col-form-label">Género</label>
                                                    <input type="text" class="form-control" th:value="*{genero} ? 'Femenino' : 'Masculino'" name="genero" id="genero"
                                                           readonly="true" />
                                                </div>

                                                <div class="col-md-6">
                                                    <label class="col-form-label">Edad</label>
                                                    <input type="number" class="form-control" name="edad" id="edad"
                                                           th:field="*{edad}" readonly="true"/>
                                                </div>

                                            </div>
                                        </div>
                                    </div>

                                    <div class="container">
                                        <div class="col-md-12 mt-5">
                                            <h2>Tratamientos</h2>

                                            <div class="table-responsive">
                                                <table class="table">
                                                    <thead>
                                                        <tr>
                                                            <th class="text-center">#</th>                          
                                                            <th>Nombre</th>
                                                            <th>Duracion</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr th:each="tratamiento, count : ${tratamientos}">
                                                            <td>[[${count.count}]]</td>
                                                            <td>[[${tratamiento.Nombre}]]</td>
                                                            <td>[[${tratamiento.Duracion}]]</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>


                                    <div class="container">
                                        <div class="col-md-12 mt-5">
                                            <h2>Medicamentos</h2>

                                            <div class="table-responsive">
                                                <table class="table">
                                                    <thead>
                                                        <tr>
                                                            <th class="text-center">#</th>                          
                                                            <th>Nombre</th>
                                                            <th>Descripcion</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr th:each="medicamento, count : ${medicamentos}">
                                                            <td>[[${count.count}]]</td>
                                                            <td>[[${medicamento.Nombre}]]</td>
                                                            <td>[[${medicamento.Descripcion}]]</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="container">
                                        <div class="col-md-12 mt-5">
                                            <h2>Citas</h2>
                                            <div class="table-responsive">
                                                <table class="table">
                                                    <thead>
                                                        <tr>
                                                            <th>#</th>                          
                                                            <th>Fecha</th>
                                                            <th>Motivo</th>
                                                            <th>Medico</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr th:each="cita, count : ${citas}">
                                                            <td>[[${count.count}]]</td>
                                                            <td>[[${cita.Fecha}]]</td>
                                                            <td>[[${cita.motivoCita}]]</td>
                                                            <td>[[${cita.medico.nombre}]] [[${cita.medico.primerApellido}]]</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row justify-content-center">
                                        <div class="col-md-5 form-group text-center">
                                            <a th:href="@{/paciente/crudPaciente}" class="btn btn-primary py-3 px-4">Volver</a>
                                        </div>
                                    </div>
                                </div>



                            </div>
                            <div class="box_gris_separador"> </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>



</html>